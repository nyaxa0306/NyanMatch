<div class="container mt-5">
  <div class="card shadow-sm p-4">
    <h3 class="mb-4"><%= @user.nickname %>さんのマイページ</h3>

    <!--切り替えタブ-->
    <ul class="nav nav-tabs" id="profileTabs" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile" type="button" role="tab" aria-controls="profile" aria-selected="true">
          プロフィール
        </button>
      </li>
      <% if user_signed_in? && @user == current_user %>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="account-tab" data-bs-toggle="tab" data-bs-target="#account" type="button" role="tab" aria-controls="account" aria-selected="false">
            アカウント情報
          </button>
        </li>
      <% end %>
    </ul>

    <div class="tab-content mt-4" id="profileTabsContent">
      <!--プロフィールタブ-->
      <div class="tab-pane fade show active" id="profile" role="tabpanel" aria-labelledby="profile-tab">
        <p><strong>ニックネーム：</strong> <%= @user.nickname %></p>
        <p><strong>ユーザー区分：</strong>
          <%= @user.protector? ? "保護主さん" : "里親希望さん" %>
        </p>
        <p><strong>自己紹介：</strong></p>
        <p><%= simple_format(@user.introduction.presence || "自己紹介がまだありません") %></p>
        <% if user_signed_in? && @user == current_user %>
          <div class="mt-3">
            <%= link_to "プロフィール編集", edit_profile_user_path(current_user), class: "btn btn-outline-primary" %>
          </div>
        <% end %>
      </div>

      <!--アカウント情報タブ-->
      <% if user_signed_in? && @user == current_user %>
        <div class="tab-pane fade" id="account" role="tabpanel" aria-labelledby="account-tab">
          <p><strong>メールアドレス：</strong> <%= @user.email %></p>
          <p><strong>パスワード：</strong> ********</p>

          <div class="mt-3">
            <%= link_to "アカウント情報編集", edit_user_registration_path, class: "btn btn-outline-secondary me-2" %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>
